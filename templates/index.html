<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tichu Game</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

<div id="join">
    <h2>Join Tichu Game</h2>
    <input type="text" id="nameInput" placeholder="Enter your name">
    <button onclick="joinGame()">Join</button>
</div>

<div id="game">
    <div id="left-panel">
        <h2>Your Hand</h2>
        <div id="hand-container">
            <div id="hand"></div>
        </div>
        <h3>Selected Cards</h3>
        <div id="selected"></div>
        <button onclick="submitSelectedCards()">Play Selected Cards</button>
        <button onclick="passTurn()">Pass</button>
        <button id="tichu-btn" onclick="callTichu()">Call Tichu</button>

        <h3>Last Played Cards</h3>
        <div id="last-played" class="card-row"></div>
    </div>

    <div id="right-panel">
        <h3>Game Messages</h3>
        <div id="turn-info" style="font-weight: bold; margin-bottom: 10px;"></div>
        <div id="messages"></div>
    </div>
</div>

<!-- Dragon Choice Overlay -->
<div id="dragon-overlay" style="display:none;">
  <div id="dragon-box">
    <h3>You won with the Dragon! Choose who gets the trick:</h3>
    <div id="dragon-buttons"></div>
  </div>
</div>

<!-- Round End Overlay -->
<div id="round-overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%;
     background:rgba(0,0,0,0.8); color:white; display:flex; flex-direction:column; align-items:center; justify-content:center;">
    <h2>Runde beendet!</h2>
    <div id="score-display"></div>
    <button onclick="readyNextRound()">Ready</button>
</div>

<!-- Grand Tichu Overlay -->
<div id="grand-tichu-overlay" class="overlay hidden">
  <h2>Do you want to declare a grand Tichu?</h2>
  <button id="sendGrandTichuYes">Yes</button>
  <button id="sendGrandTichuNo">No</button>
</div>

<!-- Passing Cards Overlay -->
<div id="passing-overlay" class="overlay hidden">
    <div class="overlay-content">
        <h2>Choose a card for each player</h2>

        <div id="passing-hand" class="card-container"></div>

        <div id="passing-targets" class="passing-targets"></div>

        <div id="pass-summary"></div>

        <button id="confirm-pass" disabled>Confirm Pass</button>
    </div>
</div>

<script src="{{ url_for('static', filename='script.js') }}"> </script>

</body>
</html>
